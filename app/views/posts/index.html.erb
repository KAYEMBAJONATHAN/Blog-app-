<h1>All Posts</h1>
<%= render 'partials/user', user: @user %>

<% @posts.each_with_index do |post, index| %>
    <a href="/users/<%= post.author.id %>/posts/<%= post.id %>">
      <div class="container recent_post">
        <p class="post-num">Post #<%= index + 1 %></p>
        <p class="post-title"><%= post.title %></p>
      <small class="counters">Comments: <%= post.comments_counter %>, Likes: <%= post.likes_counter %></small>

      <% if post.recent_comments.length.positive? %>
        <div class="comment-card">
          <h3>Comments</h3>
          <% post.recent_comments.each do |comment| %>
            <p><%= comment.author.name %>: <%= comment.text %> </p>
          <% end %>
        </div>
      <% end %>
    </div>
  </a>
<% end %>
